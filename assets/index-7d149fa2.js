var R=Object.defineProperty;var E=(l,o,a)=>o in l?R(l,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[o]=a;var e=(l,o,a)=>(E(l,typeof o!="symbol"?o+"":o,a),a);import{c as x}from"./colors-78f22cf3.js";import{u as B}from"./useCanvas-b9fb9ced.js";import{d as C,a as I,c as b}from"./index-001d42e8.js";const z=C({__name:"index",setup(l){const{canvasRef:o,context:a,width:v,height:h}=B({animate:A});let c=[],u=0;function m(i,s,r,t){return{x:r*Math.cos(t*Math.PI/180)+i,y:r*Math.sin(t*Math.PI/180)+s}}class y{constructor(s,r,t,n){e(this,"r");e(this,"cx");e(this,"cy");e(this,"angle");e(this,"x");e(this,"y");this.cx=s,this.cy=r,this.r=t,this.angle=n;const{x:g,y:f}=m(s,r,t,n);this.x=g,this.y=f}}class d{constructor(s,r,t,n){e(this,"x");e(this,"y");e(this,"r");e(this,"angle");e(this,"active");e(this,"targetAngle");e(this,"rotateAngle");e(this,"color");this.x=s,this.y=r,this.r=t,this.color=x[Math.floor(Math.random()*x.length)],this.angle=n,this.active=!0,this.targetAngle=this.angle,this.rotateAngle=180}update(){this.rotateAngle--,this.targetAngle<this.angle+60&&this.targetAngle++}draw(){this.drawTriangle(this.angle),this.drawTriangle(this.targetAngle)}drawTriangle(s){const r=Array.from({length:3},(t,n)=>new y(this.x,this.y,this.r,s+n*120));a.value&&(a.value.beginPath(),a.value.strokeStyle=this.color,r.forEach(t=>{var n;return(n=a.value)==null?void 0:n.lineTo(t.x,t.y)}),a.value.closePath(),a.value.stroke())}}function p(){c=[],c.push(new d(v.value/2,h.value/2,h.value/2,-90)),u=480}function A(){a.value&&(a.value.clearRect(0,0,v.value,h.value),c.forEach(i=>{i.update(),i.draw();const{x:s,y:r,r:t,angle:n,active:g}=i;if(i.targetAngle===n+60&&t>10&&g){const f=Array.from({length:6}).map((S,_)=>{const M=t/3,P=t*2/3,w=n+_*60,{x:T,y:k}=m(s,r,P,w);return i.active=!1,new d(T,k,M,w)});c.push(...f)}}),u--,u<0&&p())}return p(),(i,s)=>(I(),b("canvas",{ref_key:"canvasRef",ref:o},null,512))}});export{z as default};
